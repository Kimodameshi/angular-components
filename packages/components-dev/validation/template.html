<div class="container">
    <form class="margin"
          [formGroup]="reactiveForm"
          (ngSubmit)="onSubmitReactiveForm(reactiveForm)"
          novalidate>

        <div class="kbq-caption">Reactive formControlName</div><br>

        <kbq-form-field (click)="myReactiveDatepicker.toggle()">
            <input name="date" formControlName="date" [kbqDatepicker]="myReactiveDatepicker"/>

            <i kbq-icon="mc-calendar_16" kbqSuffix></i>
            <kbq-datepicker #myReactiveDatepicker></kbq-datepicker>
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <i kbqPrefix kbq-icon="mc-clock_16"></i>
            <input kbqTimepicker formControlName="time">
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <input name="input" kbqInput formControlName="reactiveInputValue" placeholder="required pattern=[a-zA-Z]*">
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <kbq-select formControlName="reactiveSelectValue">
                <kbq-option [value]="'Disabled'" disabled>Disabled</kbq-option>
                <kbq-option [value]="'Normal'">Normal</kbq-option>
                <kbq-option [value]="'Hovered'">Hovered</kbq-option>
                <kbq-option [value]="'Focused'">Focused</kbq-option>
                <kbq-option [value]="'Selected'">Selected</kbq-option>
                <kbq-option [value]="'Selected1'">Selected1</kbq-option>
            </kbq-select>
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <kbq-tree-select formControlName="reactiveTreeSelectValue">
                <kbq-tree-selection
                    [dataSource]="dataSource"
                    [treeControl]="treeControl">
                    <kbq-tree-option
                        *kbqTreeNodeDef="let node"
                        kbqTreeNodePadding>
                        {{ treeControl.getViewValue(node) }}
                    </kbq-tree-option>

                    <kbq-tree-option
                        *kbqTreeNodeDef="let node; when: hasChild"
                        kbqTreeNodePadding
                        [disabled]="node.name === 'Downloads'">
                        <i kbq-icon="mc-angle-down-S_16" [style.transform]="treeControl.isExpanded(node) ? '' : 'rotate(-90deg)'" kbqTreeNodeToggle></i>
                        {{ treeControl.getViewValue(node) }}
                    </kbq-tree-option>
                </kbq-tree-selection>
            </kbq-tree-select>
        </kbq-form-field>

        <kbq-hint [color]="themePalette.Error">
            IP-адрес окончания диапазона должен быть больше, чем IP-адрес начала
        </kbq-hint>

        <br><br>

        <kbq-form-field>
            <kbq-tag-list #inputTagList formControlName="reactiveTypeaheadValue">
                <kbq-tag *ngFor="let tag of reactiveTypeaheadItems" [value]="tag" (removed)="reactiveInputOnRemoveTag(tag)">
                    {{ tag }}
                    <i kbq-icon="mc-close-S_16" kbqTagRemove></i>
                </kbq-tag>
                <input placeholder="New tag..."
                       formControlName="tagInputFormControl"
                       [kbqTagInputFor]="inputTagList"
                       [kbqTagInputSeparatorKeyCodes]="separatorKeysCodes"
                       (kbqTagInputTokenEnd)="reactiveInputOnCreate($event)">
            </kbq-tag-list>
        </kbq-form-field>

        <div class="kbq-form-field_error" *ngIf="reactiveForm.controls.reactiveTypeaheadValue.errors">
            <div *ngIf="reactiveForm.controls.reactiveTypeaheadValue.errors?.required">error</div>
        </div>

        <br><br>

        <button kbq-button>Submit</button>

        <div *ngIf="reactiveForm.controls.reactiveInputValue.errors">
            <div *ngIf="reactiveForm.controls.reactiveInputValue.errors?.required">required error</div>
        </div>
    </form>

    <br><br>

    <form class="margin"
          [formGroup]="reactiveFormControl"
          (ngSubmit)="onSubmitReactiveFormControl(reactiveFormControl)"
          novalidate>

        <div class="kbq-caption">Reactive formControl</div><br>

        <kbq-form-field (click)="myReactiveFormControlDatepicker.toggle()">
            <input name="date" [formControl]="formControlDate" [kbqDatepicker]="myReactiveFormControlDatepicker"/>

            <i kbq-icon="mc-calendar_16" kbqSuffix></i>
            <kbq-datepicker #myReactiveFormControlDatepicker></kbq-datepicker>
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <i kbqPrefix kbq-icon="mc-clock_16"></i>
            <input kbqTimepicker [formControl]="formControlTime">
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <input name="input" kbqInput [formControl]="formControlInput" placeholder="required pattern=[a-zA-Z]*">
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <kbq-select [formControl]="formControlSelect">
                <kbq-option [value]="'Disabled'" disabled>Disabled</kbq-option>
                <kbq-option [value]="'Normal'">Normal</kbq-option>
                <kbq-option [value]="'Hovered'">Hovered</kbq-option>
                <kbq-option [value]="'Focused'">Focused</kbq-option>
                <kbq-option [value]="'Selected'">Selected</kbq-option>
                <kbq-option [value]="'Selected1'">Selected1</kbq-option>
            </kbq-select>
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <kbq-tree-select [formControl]="formControlTreeSelect">
                <kbq-tree-selection
                    [dataSource]="dataSource"
                    [treeControl]="treeControl">
                    <kbq-tree-option
                        *kbqTreeNodeDef="let node"
                        kbqTreeNodePadding>
                        {{ treeControl.getViewValue(node) }}
                    </kbq-tree-option>

                    <kbq-tree-option
                        *kbqTreeNodeDef="let node; when: hasChild"
                        kbqTreeNodePadding
                        [disabled]="node.name === 'Downloads'">
                        <i kbq-icon="mc-angle-down-S_16" [style.transform]="treeControl.isExpanded(node) ? '' : 'rotate(-90deg)'" kbqTreeNodeToggle></i>
                        {{ treeControl.getViewValue(node) }}
                    </kbq-tree-option>
                </kbq-tree-selection>
            </kbq-tree-select>
        </kbq-form-field>

        <kbq-hint [color]="themePalette.Error">
            IP-адрес окончания диапазона должен быть больше, чем IP-адрес начала
        </kbq-hint>

        <br><br>

        <kbq-form-field>
            <kbq-tag-list #formControlInputTagList [formControl]="formControlTags">
                <kbq-tag *ngFor="let tag of reactiveFormControlTypeaheadItems"
                        [value]="tag"
                        (removed)="reactiveFormControlInputOnRemoveTag(tag)">
                    {{ tag }}
                    <i kbq-icon="mc-close-S_16" kbqTagRemove></i>
                </kbq-tag>
                <input placeholder="New tag..."
                       [formControl]="formControlTagInputFormControl"
                       [kbqTagInputFor]="formControlInputTagList"
                       [kbqTagInputSeparatorKeyCodes]="separatorKeysCodes"
                       (kbqTagInputTokenEnd)="reactiveFormControlInputOnCreate($event)">
            </kbq-tag-list>
        </kbq-form-field>

        <div class="kbq-form-field_error" *ngIf="formControlTags.errors">
            <div *ngIf="formControlTags.errors?.required">error</div>
        </div>

        <br><br>

        <button kbq-button>Submit</button>

        <div *ngIf="formControlTagInputFormControl.errors">
            <div *ngIf="formControlTagInputFormControl.errors?.required">required error</div>
        </div>
    </form>

    <br><br>

    <form class="margin" #form="ngForm" (ngSubmit)="onSubmitTemplateForm(form)" novalidate>
        <div class="kbq-caption">Template form</div>

        <br>

        <kbq-form-field (click)="myDatepicker.toggle()">
            <input name="date" [(ngModel)]="date" [required]="true" [kbqDatepicker]="myDatepicker"/>

            <i kbq-icon="mc-calendar_16" kbqSuffix></i>
            <kbq-datepicker #myDatepicker></kbq-datepicker>
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <i kbqPrefix kbq-icon="mc-clock_16"></i>
            <input kbqTimepicker name="time" [(ngModel)]="time" [required]="true">
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <input
                name="input"
                kbqInput
                [(ngModel)]="inputValue"
                pattern="[a-zA-Z]*"
                placeholder="required pattern=[a-zA-Z]*" [required]="true">
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <kbq-select name="select" [(ngModel)]="selectValue" [required]="true">
                <kbq-option [value]="'Disabled'" disabled>Disabled</kbq-option>
                <kbq-option [value]="'Normal'">Normal</kbq-option>
                <kbq-option [value]="'Hovered'">Hovered</kbq-option>
                <kbq-option [value]="'Focused'">Focused</kbq-option>
                <kbq-option [value]="'Selected'">Selected</kbq-option>
                <kbq-option [value]="'Selected1'">Selected1</kbq-option>
            </kbq-select>
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <kbq-tree-select name="tree-select" [(ngModel)]="treeSelectValue" [required]="true">
                <kbq-tree-selection
                    [dataSource]="dataSource"
                    [treeControl]="treeControl">
                    <kbq-tree-option
                        *kbqTreeNodeDef="let node"
                        kbqTreeNodePadding>
                        {{ treeControl.getViewValue(node) }}
                    </kbq-tree-option>

                    <kbq-tree-option
                        *kbqTreeNodeDef="let node; when: hasChild"
                        kbqTreeNodePadding
                        [disabled]="node.name === 'Downloads'">
                        <i kbq-icon="mc-angle-down-S_16" [style.transform]="treeControl.isExpanded(node) ? '' : 'rotate(-90deg)'" kbqTreeNodeToggle></i>
                        {{ treeControl.getViewValue(node) }}
                    </kbq-tree-option>
                </kbq-tree-selection>
            </kbq-tree-select>
        </kbq-form-field>

        <br>
        <br>

        <kbq-form-field>
            <kbq-tag-list name="typeahead" #templateInputTagList [(ngModel)]="typeaheadItems" [required]="true">
                <kbq-tag *ngFor="let tag of typeaheadItems" [value]="tag" (removed)="inputOnRemoveTag(tag)">
                    {{ tag }}
                    <i kbq-icon="mc-close-S_16" kbqTagRemove></i>
                </kbq-tag>
                <input placeholder="New tag..."
                       [kbqTagInputFor]="templateInputTagList"
                       [kbqTagInputSeparatorKeyCodes]="separatorKeysCodes"
                       (kbqTagInputTokenEnd)="inputOnCreate($event)">
            </kbq-tag-list>
        </kbq-form-field>

        <br><br>

        <button kbq-button>Submit</button>
    </form>

    <br><br>

    <form class="margin" [formGroup]="formWithCustomValidator"
          (ngSubmit)="onSubmitFormWithCustomValidator(formWithCustomValidator)"
          novalidate>
        <div class="kbq-caption">formGroup with custom validator</div>
        <br>

        <kbq-form-field>
            <input kbqInput formControlName="login" placeholder="Login">
        </kbq-form-field>

        <br><br>

        <kbq-form-field>
            <input kbqInput formControlName="password" placeholder="Password">
        </kbq-form-field>

        <br><br>

        <button kbq-button>Submit</button>

        <div class="kbq-form-field_error" *ngIf="formWithCustomValidator.controls.login.errors">
            <div *ngIf="formWithCustomValidator.controls.login.errors?.required">error</div>
        </div>
    </form>

    <div class="margin">
        <div class="kbq-caption">formControl</div>

        <br>

        <kbq-form-field>
            <input kbqInput [formControl]="control" type="text" placeholder="Number MaxMin Step">
        </kbq-form-field>

        <br><br>

        <form #form="ngForm">
            <kbq-form-field>
                <input kbqInput [(ngModel)]="value" type="text" name="qwe" [required]="true">
            </kbq-form-field>

            <br><br>

            <button kbq-button type="submit">submit</button>
        </form>
    </div>
</div>
