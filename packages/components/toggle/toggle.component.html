<label
    [attr.for]="inputId"
    class="kbq-toggle-layout"
    [class.left]="labelPosition === 'left'">

    <input #input
           type="checkbox"
           role="switch"
           class="kbq-toggle-input cdk-visually-hidden"
           [id]="inputId"
           [checked]="checked"
           [attr.value]="value"
           [disabled]="disabled"
           [attr.name]="name"
           [tabIndex]="tabIndex"
           [attr.aria-label]="ariaLabel || null"
           [attr.aria-labelledby]="ariaLabelledby"
           [attr.aria-checked]="getAriaChecked()"
           (click)="onInputClick($event)"
           (change)="onChangeEvent($event)"/>
    <div class="kbq-toggle-bar-container">
        <div class="kbq-toggle-bar">
            <div class="kbq-toggle__circle" [@switch]="checked"></div>
        </div>
    </div>

    <div class="kbq-toggle__content"
         [class.left]="labelPosition === 'left'"
         [class.right]="labelPosition === 'right'">
        <span class="kbq-toggle-label" (cdkObserveContent)="onLabelTextChange()">
            <ng-content></ng-content>
        </span>

        <ng-content select="kbq-hint"></ng-content>
    </div>
</label>
